(window.webpackJsonp=window.webpackJsonp||[]).push([[52],{122:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return i})),t.d(n,"metadata",(function(){return l})),t.d(n,"toc",(function(){return c})),t.d(n,"default",(function(){return p}));var r=t(3),a=t(7),o=(t(0),t(209)),i={title:"\u5b9e\u73b0JSON"},l={unversionedId:"whiteboard/json",id:"whiteboard/json",isDocsHomePage:!1,title:"\u5b9e\u73b0JSON",description:"`js",source:"@site/docs/whiteboard/json.md",slug:"/whiteboard/json",permalink:"/docs/whiteboard/json",editUrl:"https://github.com/zhaocchen/zhaocchen.github.io/blob/master/docs/whiteboard/json.md",version:"current",sidebar:"docs",previous:{title:"setTimeout\u6a21\u62dfsetInterval",permalink:"/docs/whiteboard/setInterval"},next:{title:"\u5b9e\u73b0\u8282\u6d41\u4e0e\u9632\u6296",permalink:"/docs/whiteboard/throttle-debounce"}},c=[],s={toc:c};function p(e){var n=e.components,t=Object(a.a)(e,["components"]);return Object(o.b)("wrapper",Object(r.a)({},s,t,{components:n,mdxType:"MDXLayout"}),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-js"},"JSON.parse(JSON.stringify({a: 1}))\n{a: 1}\n")),Object(o.b)("p",null,"\u7c7b\u578b"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-js"},'JSON.stringify({a: \'1\'})\n"{"a":"1"}"\nJSON.stringify({a: 1})\n"{"a":1}"\nJSON.stringify({a: null})\n"{"a":null}"\nJSON.stringify({a: undefined})\n"{}"\nJSON.stringify({a: false})\n"{"a":false}"\nJSON.stringify({a: [1, 2,3]})\n"{"a":[1,2,3]}"\n\nJSON.stringify({a: Symbol(\'hello\')})\n"{}"\nJSON.stringify({a: BigInt(123)})\n// Do not know how to serialize a BigInt\nJSON.stringify({a: new Set([1,2])})\n"{"a":{}}"\nJSON.stringify({a: function () { console.log(\'hello\')}})\n"{}"\n')),Object(o.b)("p",null,"\u652f\u6301\u7684\u503c\u6570\u636e\u7c7b\u578b\uff1a"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"null"),Object(o.b)("li",{parentName:"ul"},"boolean"),Object(o.b)("li",{parentName:"ul"},"number"),Object(o.b)("li",{parentName:"ul"},"array"),Object(o.b)("li",{parentName:"ul"},"object")),Object(o.b)("p",null,"\u590d\u6742"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-js"},'JSON.stringify({a: { b: { c: 1}}})\n"{"a":{"b":{"c":1}}}"\nJSON.stringify({a: false, b: 21})\n"{"a":false,"b":21}"\n')),Object(o.b)("h4",{id:"\u5b9e\u73b0jsonparse"},"\u5b9e\u73b0JSON.parse()"),Object(o.b)("p",null,"\u7b80\u4ecb\u7248\uff1a"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-js"},'function jsonParse(jsonStr) {\n   return eval("(" + jsonStr + ")");\n}\n')),Object(o.b)("p",null,"\u53c2\u8003\u8bed\u6cd5\u5206\u6790\uff1a"),Object(o.b)("h4",{id:"\u5b9e\u73b0jsonstringify"},"\u5b9e\u73b0JSON.stringify()"),Object(o.b)("p",null,"\u4e0d\u8003\u8651\u7b2c\u4e8c\u7b2c\u4e09\u4e2a\u53c2\u6570"),Object(o.b)("pre",null,Object(o.b)("code",{parentName:"pre",className:"language-js"},"function jsonStringify(val) {\n    const valType = getType(val);\n    if (valType == 'Null') {\n        return 'null';\n    } else if (valType == 'Number') {\n        // 12.toString() Invalid \n        return isFinite(val) ? val+'' : 'null';\n        // return isFinite(val) ? (val).toString : 'null';\n    } else if (valType == 'Boolean') {\n        return val.toString();\n    } else if (getType(val.JSON) == 'Function') {\n        // toJSON() \u65b9\u6cd5\u53ef\u4ee5\u5c06 Date \u5bf9\u8c61\u8f6c\u6362\u4e3a\u5b57\u7b26\u4e32\uff0c\u5e76\u683c\u5f0f\u5316\u4e3a JSON \u6570\u636e\u683c\u5f0f\n        return jsonStringify(val.JSON());\n    } else if (valType == 'Array') {\n        let res = val.map(d => jsonStringify(d))\n        return `[${res.join(', ')}]`;\n    } else if (valType == 'Object') {\n        let res = [];\n        for (let key in val) {\n            val.hasOwnProperty(key) && res.push(`${jsonStringify(key)}: ${jsonStringify(val[key])}`)\n        }\n        return `{${res.join(', ')}}`;\n    }\n    \n    var escMap = {\n        '\"': '\\\\\"', \n      '\\\\': '\\\\\\\\', \n      '\\b': '\\\\b', \n      '\\f': '\\\\f', \n      '\\n': '\\\\n', \n      '\\r': '\\\\r', \n      '\\t': '\\\\t'\n    };\n    var escFunc = function (m) { \n        return escMap[m] || '\\\\u' + (m.charCodeAt(0) + 0x10000).toString(16).substr(1); \n    };\n    var escReg = /[\\\\\"\\u0000-\\u001F\\u2028\\u2029]/g;\n\n    return `\"${val.toString().replace(escReg, escFunc)}\"`\n\n}\n\nfunction getType(value) {\n    return Object.prototype.toString.call(value).slice(8, -1);\n}\n")),Object(o.b)("p",null,"\u4ee3\u7801\uff1a\n",Object(o.b)("a",{parentName:"p",href:"https://gitee.com/daaasheng/whiteboard_code/tree/master/JSON"},"https://gitee.com/daaasheng/whiteboard_code/tree/master/JSON")),Object(o.b)("p",null,"\u53c2\u8003\uff1a\n",Object(o.b)("a",{parentName:"p",href:"https://juejin.im/post/6844903992871354375"},"https://juejin.im/post/6844903992871354375"),"\nstringify\u51e0\u5927\u7279\u5f81 ",Object(o.b)("a",{parentName:"p",href:"https://segmentfault.com/a/1190000021230185"},"https://segmentfault.com/a/1190000021230185"),"\n\u8bed\u6cd5\u5206\u6790\u89d2\u5ea6\u5b9e\u73b0parse\n",Object(o.b)("a",{parentName:"p",href:"https://lihautan.com/json-parser-with-javascript/"},"https://lihautan.com/json-parser-with-javascript/"),"\n",Object(o.b)("a",{parentName:"p",href:"https://juejin.im/post/6844904066217148424"},"https://juejin.im/post/6844904066217148424"),"\n",Object(o.b)("a",{parentName:"p",href:"http://www.jecyu.com/2020/02/21/%E8%AF%91%E6%96%87%E4%BD%BF%E7%94%A8javascript-%E6%89%8B%E5%86%99-json-parser/#_parser"},"http://www.jecyu.com/2020/02/21/%E8%AF%91%E6%96%87%E4%BD%BF%E7%94%A8javascript-%E6%89%8B%E5%86%99-json-parser/#_parser")))}p.isMDXComponent=!0},209:function(e,n,t){"use strict";t.d(n,"a",(function(){return u})),t.d(n,"b",(function(){return j}));var r=t(0),a=t.n(r);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function c(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var s=a.a.createContext({}),p=function(e){var n=a.a.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):l(l({},n),e)),t},u=function(e){var n=p(e.components);return a.a.createElement(s.Provider,{value:n},e.children)},b={inlineCode:"code",wrapper:function(e){var n=e.children;return a.a.createElement(a.a.Fragment,{},n)}},f=a.a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,o=e.originalType,i=e.parentName,s=c(e,["components","mdxType","originalType","parentName"]),u=p(t),f=r,j=u["".concat(i,".").concat(f)]||u[f]||b[f]||o;return t?a.a.createElement(j,l(l({ref:n},s),{},{components:t})):a.a.createElement(j,l({ref:n},s))}));function j(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var o=t.length,i=new Array(o);i[0]=f;var l={};for(var c in n)hasOwnProperty.call(n,c)&&(l[c]=n[c]);l.originalType=e,l.mdxType="string"==typeof e?e:r,i[1]=l;for(var s=2;s<o;s++)i[s]=t[s];return a.a.createElement.apply(null,i)}return a.a.createElement.apply(null,t)}f.displayName="MDXCreateElement"}}]);