(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{114:function(e,n,a){"use strict";a.r(n),a.d(n,"frontMatter",(function(){return l})),a.d(n,"metadata",(function(){return o})),a.d(n,"toc",(function(){return c})),a.d(n,"default",(function(){return d}));var t=a(3),r=a(7),i=(a(0),a(209)),l={slug:"adapter",title:"\u7ed3\u6784\u578b | \u9002\u914d\u5668\u6a21\u5f0f",author:"Zhao chen",author_url:"https://github.com/zhaocchen",tags:[],draft:!1,description:null},o={unversionedId:"design-pattern/adapter",id:"design-pattern/adapter",isDocsHomePage:!1,title:"\u7ed3\u6784\u578b | \u9002\u914d\u5668\u6a21\u5f0f",description:"\u610f\u56fe",source:"@site/docs/design-pattern/adapter.md",slug:"/design-pattern/adapter",permalink:"/docs/design-pattern/adapter",editUrl:"https://github.com/zhaocchen/zhaocchen.github.io/blob/master/docs/design-pattern/adapter.md",version:"current",sidebar:"docs",previous:{title:"\u521b\u5efa\u578b | \u539f\u578b\u6a21\u5f0f",permalink:"/docs/design-pattern/prototype"},next:{title:"\u7ed3\u6784\u578b | \u6865\u63a5\u6a21\u5f0f",permalink:"/docs/design-pattern/bridge"}},c=[{value:"\u610f\u56fe",id:"\u610f\u56fe",children:[]},{value:"\u573a\u666f",id:"\u573a\u666f",children:[]},{value:"\u7f3a\u70b9",id:"\u7f3a\u70b9",children:[]},{value:"\u5b9e\u73b0",id:"\u5b9e\u73b0",children:[]}],p={toc:c};function d(e){var n=e.components,a=Object(r.a)(e,["components"]);return Object(i.b)("wrapper",Object(t.a)({},p,a,{components:n,mdxType:"MDXLayout"}),Object(i.b)("h3",{id:"\u610f\u56fe"},"\u610f\u56fe"),Object(i.b)("p",null,"\u4f7f\u63a5\u53e3\u4e0d\u517c\u5bb9\u7684\u5bf9\u8c61\u80fd\u591f\u76f8\u4e92\u5408\u4f5c\u3002"),Object(i.b)("h3",{id:"\u573a\u666f"},"\u573a\u666f"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"\u9700\u8981\u7684\u7c7b\u63a5\u53e3\u4e0e\u5176\u4ed6\u4ee3\u7801\u4e0d\u517c\u5bb9"),Object(i.b)("li",{parentName:"ul"},"\u9700\u8981\u590d\u7528\u7684\u4e00\u4e9b\u7c7b\uff0c\u5904\u4e8e\u540c\u4e00\u7ee7\u627f\u4f53\u7cfb\uff0c \u6709\u989d\u5916\u7684\u6765\u81ea\u7ee7\u627f\u4f53\u7cfb\u5916\u7684\u4e00\u4e9b\u5171\u540c\u65b9\u6cd5")),Object(i.b)("p",null,"\u5e94\u7528\uff1a"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"\u5145\u7535\u5668\u9002\u914d\u5668")),Object(i.b)("h3",{id:"\u7f3a\u70b9"},"\u7f3a\u70b9"),Object(i.b)("p",null,"\u4ee3\u7801\u8f83\u590d\u6742"),Object(i.b)("h3",{id:"\u5b9e\u73b0"},"\u5b9e\u73b0"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-ts"},'// 1. \u4e3a\u5a92\u4f53\u64ad\u653e\u5668\u548c\u66f4\u9ad8\u7ea7\u7684\u5a92\u4f53\u64ad\u653e\u5668\u521b\u5efa\u63a5\u53e3\ninterface MediaPlayer {\n  play(audioType: string, fileName: string): void;\n}\n\ninterface AdvancedMediaPlayer {\n  playVlc(fileName: string): void;\n  playMp4(fileName: string): void;\n}\n\n// 2. \u521b\u5efa\u5b9e\u73b0\u4e86 AdvancedMediaPlayer \u63a5\u53e3\u7684\u5b9e\u4f53\u7c7b\nclass VlcPlayer implements AdvancedMediaPlayer {\n  public playVlc(fileName: string): void {\n    console.log("Playing vlc file. Name: " + fileName);\n  }\n  \n  public playMp4(fileName: string): void {\n    //\u4ec0\u4e48\u4e5f\u4e0d\u505a\n  }\n}\n\nclass Mp4Player implements AdvancedMediaPlayer {\n  public playVlc(fileName: string): void {\n    //\u4ec0\u4e48\u4e5f\u4e0d\u505a\n  }\n  \n  public playMp4(fileName: string): void {\n    console.log("Playing mp4 file. Name: " + fileName);\n  }\n}\n\n// 3. \u521b\u5efa\u5b9e\u73b0\u4e86 MediaPlayer \u63a5\u53e3\u7684\u9002\u914d\u5668\u7c7b\nclass MediaAdapter implements MediaPlayer {\n  advancedMusicPlayer: AdvancedMediaPlayer;\n  constructor(audioType: string) {\n    if (audioType.toLocaleLowerCase() == "vlc") {\n      this.advancedMusicPlayer = new VlcPlayer();\n    } else if (audioType.toLocaleLowerCase() == "mp4") {\n      this.advancedMusicPlayer = new Mp4Player();\n    }\n  }\n\n  public play(audioType: string, fileName: string): void {\n    if (audioType.toLocaleLowerCase() == "vlc") {\n      this.advancedMusicPlayer.playVlc(fileName);\n    } else if (audioType.toLocaleLowerCase() == "mp4") {\n      this.advancedMusicPlayer.playMp4(fileName);\n    }\n  }\n}\n\n// 4. \u521b\u5efa\u5b9e\u73b0\u4e86 MediaPlayer \u63a5\u53e3\u7684\u5b9e\u4f53\u7c7b\nclass AudioPlayer implements MediaPlayer {\n  mediaAdapter: MediaAdapter;\n\n  public play(audioType: string, fileName: string): void {\n    //\u64ad\u653e mp3 \u97f3\u4e50\u6587\u4ef6\u7684\u5185\u7f6e\u652f\u6301\n    if (audioType.toLocaleLowerCase() == "mp3") {\n      console.log("Playing mp3 file. Name: " + fileName);\n    }\n    //mediaAdapter \u63d0\u4f9b\u4e86\u64ad\u653e\u5176\u4ed6\u6587\u4ef6\u683c\u5f0f\u7684\u652f\u6301\n    else if (audioType.toLocaleLowerCase() == "vlc" || audioType.toLocaleLowerCase() == "mp4") {\n      this.mediaAdapter = new MediaAdapter(audioType);\n      this.mediaAdapter.play(audioType, fileName);\n    }\n    else {\n      console.log("Invalid media. " + audioType + " format not supported");\n    }\n  }\n}\n')),Object(i.b)("p",null,"\u6d4b\u8bd5"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-ts"},'// 5. \u4f7f\u7528 AudioPlayer \u6765\u64ad\u653e\u4e0d\u540c\u7c7b\u578b\u7684\u97f3\u9891\u683c\u5f0f\nclass AdapterPatternDemo {\n  constructor() {\n    let audioPlayer: AudioPlayer = new AudioPlayer();\n    audioPlayer.play("mp3", "beyond the horizon.mp3");\n    audioPlayer.play("mp4", "alone.mp4");\n    audioPlayer.play("vlc", "far far away.vlc");\n    audioPlayer.play("avi", "mind me.avi");\n  }\n}\n\nnew AdapterPatternDemo();\n// Playing mp3 file. Name: beyond the horizon.mp3\n// Playing mp4 file. Name: alone.mp4\n// Playing vlc file. Name: far far away.vlc\n// Invalid media. avi format not supported\n')))}d.isMDXComponent=!0},209:function(e,n,a){"use strict";a.d(n,"a",(function(){return u})),a.d(n,"b",(function(){return m}));var t=a(0),r=a.n(t);function i(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function l(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function o(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?l(Object(a),!0).forEach((function(n){i(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}function c(e,n){if(null==e)return{};var a,t,r=function(e,n){if(null==e)return{};var a,t,r={},i=Object.keys(e);for(t=0;t<i.length;t++)a=i[t],n.indexOf(a)>=0||(r[a]=e[a]);return r}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)a=i[t],n.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var p=r.a.createContext({}),d=function(e){var n=r.a.useContext(p),a=n;return e&&(a="function"==typeof e?e(n):o(o({},n),e)),a},u=function(e){var n=d(e.components);return r.a.createElement(p.Provider,{value:n},e.children)},s={inlineCode:"code",wrapper:function(e){var n=e.children;return r.a.createElement(r.a.Fragment,{},n)}},y=r.a.forwardRef((function(e,n){var a=e.components,t=e.mdxType,i=e.originalType,l=e.parentName,p=c(e,["components","mdxType","originalType","parentName"]),u=d(a),y=t,m=u["".concat(l,".").concat(y)]||u[y]||s[y]||i;return a?r.a.createElement(m,o(o({ref:n},p),{},{components:a})):r.a.createElement(m,o({ref:n},p))}));function m(e,n){var a=arguments,t=n&&n.mdxType;if("string"==typeof e||t){var i=a.length,l=new Array(i);l[0]=y;var o={};for(var c in n)hasOwnProperty.call(n,c)&&(o[c]=n[c]);o.originalType=e,o.mdxType="string"==typeof e?e:t,l[1]=o;for(var p=2;p<i;p++)l[p]=a[p];return r.a.createElement.apply(null,l)}return r.a.createElement.apply(null,a)}y.displayName="MDXCreateElement"}}]);